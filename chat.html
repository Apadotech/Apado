Enter Chat and press enter
<div><input id=input placeholder="message" /></div>
Chat Output
<div id=box></div>
<script src=https://cdn.pubnub.com/sdk/javascript/pubnub.4.28.2.min.js></script>
<script> (function() {
        var pubnub = new PubNub({
            publishKey: 'pub-c-a4439d8c-448b-4d08-bad9-800a546854d1',
            subscribeKey: 'sub-c-600fa2f4-77f8-11eb-b338-de22a5d8105b'
        });
        function $(id) {
            return document.getElementById(id);
        }
        var box = $('box'),
            input = $('input'),
            channel = '10chat-demo';
        pubnub.addListener({
            message: function(obj) {
                box.innerHTML = ('' + obj.message).replace(/[<>]/g, '') + '<br>' + box.innerHTML
            }
        });
        pubnub.subscribe({
            channels: [channel]
        });
        input.addEventListener('keyup', function(e) {
            if ((e.keyCode || e.charCode) === 13) {
                pubnub.publish({
                    channel: channel,
                    message: input.value,
                    x: (input.value = '')
                });
            }
        });
    })();
</script>
// in browser
 const input = document.querySelector('input[file]');

 input.addEventListener('change', async () => {
   const file = input.files[0];

   const result = await pubnub.sendFile({
     channel: 'my_channel',
     file: file,
   });
 });

// in Node.js
 import fs from 'fs';

 const myFile = fs.createReadStream('./cat_picture.jpg');

 const result = await pubnub.sendFile({
   channel: 'my_channel',
   file: { stream: myFile, name: 'cat_picture.jpg', mimeType: 'application/json' },
 });

// in React and React Native
const result = await pubnub.sendFile({
  channel: 'my_channel',
  message: {
    test: 'message',
    value: 42
  },
  file: {
    uri: imageUri,
    name: 'cat_picture.jpg',
    mimeType: 'image/jpeg',
  },
});
